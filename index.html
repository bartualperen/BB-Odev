<!DOCTYPE html>
<html>
<head>
    <title>Cloud Snake Game</title>
    <style>
        canvas { border: 2px solid white; background-color: #000; display: block; margin: 0 auto; }
        body { background-color: #222; color: white; text-align: center; font-family: Arial; }
    </style>
</head>
<body>
    <h1>ISE 465 Cloud Snake Game</h1>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        let snake = [{x: 200, y: 200}];
        let food = {x: 0, y: 0};
        let dx = 20; let dy = 0;
        function main() {
            if (didGameEnd()) return alert("Oyun Bitti!");
            setTimeout(function() {
                clearCanvas(); drawFood(); advanceSnake(); drawSnake(); main();
            }, 100);
        }
        function clearCanvas() { ctx.fillStyle = "black"; ctx.fillRect(0, 0, canvas.width, canvas.height); }
        function drawSnake() { ctx.fillStyle = "lime"; snake.forEach(part => ctx.fillRect(part.x, part.y, 18, 18)); }
        function advanceSnake() {
            const head = {x: snake[0].x + dx, y: snake[0].y + dy};
            snake.unshift(head);
            if (head.x === food.x && head.y === food.y) createFood();
            else snake.pop();
        }
        function didGameEnd() {
            for (let i = 4; i < snake.length; i++) if (snake[i].x === snake[0].x && snake[i].y === snake[0].y) return true;
            return snake[0].x < 0 || snake[0].x > canvas.width - 20 || snake[0].y < 0 || snake[0].y > canvas.height - 20;
        }
        function createFood() {
            food.x = Math.floor(Math.random() * 20) * 20;
            food.y = Math.floor(Math.random() * 20) * 20;
        }
        function drawFood() { ctx.fillStyle = "red"; ctx.fillRect(food.x, food.y, 18, 18); }
        document.addEventListener("keydown", e => {
            if (e.key === "ArrowUp" && dy === 0) { dx = 0; dy = -20; }
            if (e.key === "ArrowDown" && dy === 0) { dx = 0; dy = 20; }
            if (e.key === "ArrowLeft" && dx === 0) { dx = -20; dy = 0; }
            if (e.key === "ArrowRight" && dx === 0) { dx = 20; dy = 0; }
        });
        createFood(); main();
    </script>
</body>
</html>